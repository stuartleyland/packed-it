CREATE TABLE USER (
	ID INT AUTO_INCREMENT PRIMARY KEY, 
	USERNAME VARCHAR(50) NOT NULL, 
	PASSWORD VARCHAR(100) NOT NULL, 
	FIRSTNAME VARCHAR(50) NOT NULL, 
	LASTNAME VARCHAR(50) NOT NULL, 
	ENABLED BIT NOT NULL, 
	LASTPASSWORDRESETDATE TIMESTAMP NOT NULL
);

INSERT INTO USER (ID, USERNAME, PASSWORD, FIRSTNAME, LASTNAME, ENABLED, LASTPASSWORDRESETDATE) VALUES (1, 'admin', '$2a$08$lDnHPz7eUkSi6ao14Twuau08mzhWrL4kyZGGU5xfiGALO/Vxd5DOi', 'admin', 'admin', 1, PARSEDATETIME('01-JAN-2016','dd-MMM-yyyy'));
INSERT INTO USER (ID, USERNAME, PASSWORD, FIRSTNAME, LASTNAME, ENABLED, LASTPASSWORDRESETDATE) VALUES (2, 'user', '$2a$08$UkVvwpULis18S19S5pZFn.YHPZt3oaqHZnDwqbCW9pft6uFtkXKDC', 'user', 'user', 1, PARSEDATETIME('01-JAN-2016','dd-MMM-yyyy'));
INSERT INTO USER (ID, USERNAME, PASSWORD, FIRSTNAME, LASTNAME, ENABLED, LASTPASSWORDRESETDATE) VALUES (3, 'disabled', '$2a$08$UkVvwpULis18S19S5pZFn.YHPZt3oaqHZnDwqbCW9pft6uFtkXKDC', 'user', 'user', 0, PARSEDATETIME('01-JAN-2016','dd-MMM-yyyy'));

CREATE TABLE AUTHORITY (
	ID INT AUTO_INCREMENT PRIMARY KEY,
	NAME VARCHAR(50) NOT NULL
);

INSERT INTO AUTHORITY (ID, NAME) VALUES (1, 'ROLE_USER');
INSERT INTO AUTHORITY (ID, NAME) VALUES (2, 'ROLE_ADMIN');

CREATE TABLE USER_AUTHORITY (
	USER_ID INT AUTO_INCREMENT NOT NULL,
	AUTHORITY_ID INT NOT NULL,
	FOREIGN KEY (USER_ID) REFERENCES USER(ID),
	FOREIGN KEY (AUTHORITY_ID) REFERENCES AUTHORITY(ID)
);

INSERT INTO USER_AUTHORITY (USER_ID, AUTHORITY_ID) VALUES (1, 1);
INSERT INTO USER_AUTHORITY (USER_ID, AUTHORITY_ID) VALUES (1, 2);
INSERT INTO USER_AUTHORITY (USER_ID, AUTHORITY_ID) VALUES (2, 1);
INSERT INTO USER_AUTHORITY (USER_ID, AUTHORITY_ID) VALUES (3, 1);

CREATE TABLE PACKING_LIST (
	ID INT AUTO_INCREMENT PRIMARY KEY,
	USER_ID INT NOT NULL,
	DESCRIPTION VARCHAR(200) NOT NULL,
	START_DATE DATE,
	END_DATE DATE,
	VERSION INT NOT NULL DEFAULT 0,
	FOREIGN KEY (USER_ID) REFERENCES USER(ID)
);

INSERT INTO PACKING_LIST (ID, USER_ID, DESCRIPTION, START_DATE, END_DATE) VALUES (1, 1, 'Honeymoon - Bali', '2016-08-29', '2016-09-10');
INSERT INTO PACKING_LIST (ID, USER_ID, DESCRIPTION, START_DATE, END_DATE) VALUES (2, 2, 'Valencia', '2015-09-15', '2015-09-20');
INSERT INTO PACKING_LIST (ID, USER_ID, DESCRIPTION, START_DATE, END_DATE) VALUES (3, 1, '2017 holiday', '2017-05-13', '2016-09-20');

CREATE TABLE ITEM_CATEGORY (
	ID INT AUTO_INCREMENT PRIMARY KEY,
	DESCRIPTION VARCHAR(500) NOT NULL,
	VERSION INT NOT NULL DEFAULT 0
);

CREATE TABLE ITEM (
	ID INT AUTO_INCREMENT PRIMARY KEY,
	DESCRIPTION VARCHAR(500) NOT NULL,
	CATEGORY_ID INT NOT NULL,
	VERSION INT NOT NULL DEFAULT 0,
	FOREIGN KEY (CATEGORY_ID) REFERENCES ITEM_CATEGORY(ID)
);

CREATE TABLE LIST_ITEM (
	ID INT AUTO_INCREMENT PRIMARY KEY,
	LIST_ID INT NOT NULL,
	ITEM_ID INT NOT NULL,
	VERSION INT NOT NULL DEFAULT 0,
	FOREIGN KEY (LIST_ID) REFERENCES PACKING_LIST(ID),
	FOREIGN KEY (ITEM_ID) REFERENCES ITEM(ID)
);